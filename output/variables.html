<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Where is my data?</title>

    <!-- Bulma CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.8/css/dataTables.bulma.min.css"
    />

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.8/js/dataTables.bulma.min.js"></script>
    <style>
      thead th {
        position: sticky;
        top: 0;
        background: white;
        z-index: 2;
      }
    </style>

    <style>
      .code-container {
        position: relative;
      }

      .copy-btn {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        z-index: 2;
      }

      .code-container pre {
        padding-top: 2.5rem; /* space so button doesn't overlap text */
      }
    </style>
  </head>

  <body>
    <section class="section">
      <div class="container">
        <h1 class="title">Where is my data?</h1>
        <h2 class="subtitle">Variable availability</h2>

        <div class="field mb-5">
          <label class="label">Simulation</label>
          <div class="control">
            <div class="select is-medium">
              <select id="simulation-select"></select>
            </div>
          </div>
        </div>

        <div class="table-container"><table border="1" class="dataframe table is-striped is-hoverable is-fullwidth" id="variables">
  <thead>
    <tr style="text-align: right;">
      <th>shortname</th>
      <th>name</th>
      <th>gribid</th>
      <th>levtype</th>
      <th>freq_full</th>
      <th>freq_reduced</th>
      <th>freq_minimal</th>
    </tr>
  </thead>
  <tbody>
    <tr class="clickable-row" data-shortname="pv" data-name="Potential vorticity" data-gribid="60" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>pv</td>
      <td>Potential vorticity</td>
      <td>60</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="tclw" data-name="Total column cloud liquid water" data-gribid="78" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>tclw</td>
      <td>Total column cloud liquid water</td>
      <td>78</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="tciw" data-name="Total column cloud ice water" data-gribid="79" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>tciw</td>
      <td>Total column cloud ice water</td>
      <td>79</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="z" data-name="Geopotential" data-gribid="129" data-levtype="pl" data-vertical="pl" data-allfreqs="6-hourly,hourly">
      <td>z</td>
      <td>Geopotential</td>
      <td>129</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-light">6-hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="t" data-name="Temperature" data-gribid="130" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>t</td>
      <td>Temperature</td>
      <td>130</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="u" data-name="U component of wind" data-gribid="131" data-levtype="hl" data-vertical="hl" data-allfreqs="6-hourly,hourly">
      <td>u</td>
      <td>U component of wind</td>
      <td>131</td>
      <td>hl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-light">6-hourly</span> <span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="v" data-name="V component of wind" data-gribid="132" data-levtype="hl" data-vertical="hl" data-allfreqs="6-hourly,hourly">
      <td>v</td>
      <td>V component of wind</td>
      <td>132</td>
      <td>hl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-light">6-hourly</span> <span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="q" data-name="Specific humidity" data-gribid="133" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>q</td>
      <td>Specific humidity</td>
      <td>133</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="sp" data-name="Surface pressure" data-gribid="134" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>sp</td>
      <td>Surface pressure</td>
      <td>134</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="w" data-name="Vertical velocity" data-gribid="135" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>w</td>
      <td>Vertical velocity</td>
      <td>135</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="tcw" data-name="Total column water" data-gribid="136" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>tcw</td>
      <td>Total column water</td>
      <td>136</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="tcwv" data-name="Total column vertically-integrated water vapour" data-gribid="137" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>tcwv</td>
      <td>Total column vertically-integrated water vapour</td>
      <td>137</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="msl" data-name="Mean sea level pressure" data-gribid="151" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>msl</td>
      <td>Mean sea level pressure</td>
      <td>151</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="r" data-name="Relative humidity" data-gribid="157" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>r</td>
      <td>Relative humidity</td>
      <td>157</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="10u" data-name="10 metre U wind component" data-gribid="165" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>10u</td>
      <td>10 metre U wind component</td>
      <td>165</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="10v" data-name="10 metre V wind component" data-gribid="166" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>10v</td>
      <td>10 metre V wind component</td>
      <td>166</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="2t" data-name="2 metre temperature" data-gribid="167" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>2t</td>
      <td>2 metre temperature</td>
      <td>167</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="2d" data-name="2 metre dewpoint temperature" data-gribid="168" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>2d</td>
      <td>2 metre dewpoint temperature</td>
      <td>168</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="lsm" data-name="Land-sea mask" data-gribid="172" data-levtype="sfc" data-vertical="" data-allfreqs="daily">
      <td>lsm</td>
      <td>Land-sea mask</td>
      <td>172</td>
      <td>sfc</td>
      <td><span class="tag is-success">daily</span></td>
      <td><span class="tag is-success">daily</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="10si" data-name="10 metre wind speed" data-gribid="207" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>10si</td>
      <td>10 metre wind speed</td>
      <td>207</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="skt" data-name="Skin temperature" data-gribid="235" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>skt</td>
      <td>Skin temperature</td>
      <td>235</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="clwc" data-name="Specific cloud liquid water content" data-gribid="246" data-levtype="pl" data-vertical="pl" data-allfreqs="hourly">
      <td>clwc</td>
      <td>Specific cloud liquid water content</td>
      <td>246</td>
      <td>pl</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="orog" data-name="Orography" data-gribid="228002" data-levtype="sfc" data-vertical="" data-allfreqs="daily">
      <td>orog</td>
      <td>Orography</td>
      <td>228002</td>
      <td>sfc</td>
      <td><span class="tag is-success">daily</span></td>
      <td><span class="tag is-success">daily</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_2t" data-name="Time-mean 2 metre temperature" data-gribid="228004" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_2t</td>
      <td>Time-mean 2 metre temperature</td>
      <td>228004</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_10ws" data-name="Time-mean 10 metre wind speed" data-gribid="228005" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_10ws</td>
      <td>Time-mean 10 metre wind speed</td>
      <td>228005</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="sd" data-name="Snow depth water equivalent" data-gribid="228141" data-levtype="sol" data-vertical="sol5" data-allfreqs="hourly">
      <td>sd</td>
      <td>Snow depth water equivalent</td>
      <td>228141</td>
      <td>sol</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="tcc" data-name="Total Cloud Cover" data-gribid="228164" data-levtype="sfc" data-vertical="" data-allfreqs="hourly">
      <td>tcc</td>
      <td>Total Cloud Cover</td>
      <td>228164</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span></td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_surfror" data-name="Time-mean surface runoff rate" data-gribid="235020" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_surfror</td>
      <td>Time-mean surface runoff rate</td>
      <td>235020</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_ssurfror" data-name="Time-mean sub-surface runoff rate" data-gribid="235021" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_ssurfror</td>
      <td>Time-mean sub-surface runoff rate</td>
      <td>235021</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tsrwe" data-name="Time-mean total snowfall rate water equivalent" data-gribid="235031" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tsrwe</td>
      <td>Time-mean total snowfall rate water equivalent</td>
      <td>235031</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_ishf" data-name="Time-mean surface sensible heat flux" data-gribid="235033" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_ishf</td>
      <td>Time-mean surface sensible heat flux</td>
      <td>235033</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_slhtf" data-name="Time-mean surface latent heat flux" data-gribid="235034" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_slhtf</td>
      <td>Time-mean surface latent heat flux</td>
      <td>235034</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_sdswrf" data-name="Time-mean surface downward short-wave radiation flux" data-gribid="235035" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_sdswrf</td>
      <td>Time-mean surface downward short-wave radiation flux</td>
      <td>235035</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_sdlwrf" data-name="Time-mean surface downward long-wave radiation flux" data-gribid="235036" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_sdlwrf</td>
      <td>Time-mean surface downward long-wave radiation flux</td>
      <td>235036</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_snswrf" data-name="Time-mean surface net short-wave radiation flux" data-gribid="235037" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_snswrf</td>
      <td>Time-mean surface net short-wave radiation flux</td>
      <td>235037</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_snlwrf" data-name="Time-mean surface net long-wave radiation flux" data-gribid="235038" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_snlwrf</td>
      <td>Time-mean surface net long-wave radiation flux</td>
      <td>235038</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tnswrf" data-name="Time-mean top net short-wave radiation flux" data-gribid="235039" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tnswrf</td>
      <td>Time-mean top net short-wave radiation flux</td>
      <td>235039</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tnlwrf" data-name="Time-mean top net long-wave radiation flux" data-gribid="235040" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tnlwrf</td>
      <td>Time-mean top net long-wave radiation flux</td>
      <td>235040</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_iews" data-name="Time-mean eastward turbulent surface stress" data-gribid="235041" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_iews</td>
      <td>Time-mean eastward turbulent surface stress</td>
      <td>235041</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_inss" data-name="Time-mean northward turbulent surface stress" data-gribid="235042" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_inss</td>
      <td>Time-mean northward turbulent surface stress</td>
      <td>235042</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_ie" data-name="Time-mean moisture flux" data-gribid="235043" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_ie</td>
      <td>Time-mean moisture flux</td>
      <td>235043</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tnswrfcs" data-name="Time-mean top net short-wave radiation flux, clear sky" data-gribid="235049" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tnswrfcs</td>
      <td>Time-mean top net short-wave radiation flux, clear sky</td>
      <td>235049</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tnlwrfcs" data-name="Time-mean top net long-wave radiation flux, clear sky" data-gribid="235050" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tnlwrfcs</td>
      <td>Time-mean top net long-wave radiation flux, clear sky</td>
      <td>235050</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_snswrfcs" data-name="Time-mean surface net short-wave radiation flux, clear sky" data-gribid="235051" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_snswrfcs</td>
      <td>Time-mean surface net short-wave radiation flux, clear sky</td>
      <td>235051</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_snlwrfcs" data-name="Time-mean surface net long-wave radiation flux, clear sky" data-gribid="235052" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_snlwrfcs</td>
      <td>Time-mean surface net long-wave radiation flux, clear sky</td>
      <td>235052</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tdswrf" data-name="Time mean top downward short-wave radiation flux" data-gribid="235053" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tdswrf</td>
      <td>Time mean top downward short-wave radiation flux</td>
      <td>235053</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tprate" data-name="Time-mean total precipitation rate" data-gribid="235055" data-levtype="sfc" data-vertical="" data-allfreqs="hourly,monthly">
      <td>avg_tprate</td>
      <td>Time-mean total precipitation rate</td>
      <td>235055</td>
      <td>sfc</td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-info">hourly</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_vsw" data-name="Time-mean volumetric soil moisture" data-gribid="235077" data-levtype="sol" data-vertical="sol4" data-allfreqs="monthly">
      <td>avg_vsw</td>
      <td>Time-mean volumetric soil moisture</td>
      <td>235077</td>
      <td>sol</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sd" data-name="Time-mean snow depth water equivalent" data-gribid="235078" data-levtype="sol" data-vertical="sol5" data-allfreqs="monthly">
      <td>avg_sd</td>
      <td>Time-mean snow depth water equivalent</td>
      <td>235078</td>
      <td>sol</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_skt" data-name="Time-mean skin temperature" data-gribid="235079" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_skt</td>
      <td>Time-mean skin temperature</td>
      <td>235079</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tclw" data-name="Time-mean total column liquid water" data-gribid="235087" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_tclw</td>
      <td>Time-mean total column liquid water</td>
      <td>235087</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tciw" data-name="Time-mean total column cloud ice water" data-gribid="235088" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_tciw</td>
      <td>Time-mean total column cloud ice water</td>
      <td>235088</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sot" data-name="Time-mean soil temperature" data-gribid="235094" data-levtype="sol" data-vertical="sol4" data-allfreqs="monthly">
      <td>avg_sot</td>
      <td>Time-mean soil temperature</td>
      <td>235094</td>
      <td>sol</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_pv" data-name="Time-mean potential vorticity" data-gribid="235100" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_pv</td>
      <td>Time-mean potential vorticity</td>
      <td>235100</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_z" data-name="Time-mean geopotential" data-gribid="235129" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_z</td>
      <td>Time-mean geopotential</td>
      <td>235129</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_t" data-name="Time-mean temperature" data-gribid="235130" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_t</td>
      <td>Time-mean temperature</td>
      <td>235130</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_u" data-name="Time-mean U component of wind" data-gribid="235131" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_u</td>
      <td>Time-mean U component of wind</td>
      <td>235131</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_v" data-name="Time-mean V component of wind" data-gribid="235132" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_v</td>
      <td>Time-mean V component of wind</td>
      <td>235132</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_q" data-name="Time-mean specific humidity" data-gribid="235133" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_q</td>
      <td>Time-mean specific humidity</td>
      <td>235133</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_sp" data-name="Time-mean surface pressure" data-gribid="235134" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_sp</td>
      <td>Time-mean surface pressure</td>
      <td>235134</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_w" data-name="Time-mean vertical velocity" data-gribid="235135" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_w</td>
      <td>Time-mean vertical velocity</td>
      <td>235135</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tcw" data-name="Time-mean total column water" data-gribid="235136" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_tcw</td>
      <td>Time-mean total column water</td>
      <td>235136</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tcwv" data-name="Time-mean total column vertically-integrated water vapour" data-gribid="235137" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_tcwv</td>
      <td>Time-mean total column vertically-integrated water vapour</td>
      <td>235137</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_msl" data-name="Time-mean mean sea level pressure" data-gribid="235151" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_msl</td>
      <td>Time-mean mean sea level pressure</td>
      <td>235151</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_r" data-name="Time-mean relative humidity" data-gribid="235157" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_r</td>
      <td>Time-mean relative humidity</td>
      <td>235157</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_10u" data-name="Time-mean 10 metre U wind component" data-gribid="235165" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_10u</td>
      <td>Time-mean 10 metre U wind component</td>
      <td>235165</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_10v" data-name="Time-mean 10 metre V wind component" data-gribid="235166" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_10v</td>
      <td>Time-mean 10 metre V wind component</td>
      <td>235166</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_2d" data-name="Time-mean 2 metre dewpoint temperature" data-gribid="235168" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_2d</td>
      <td>Time-mean 2 metre dewpoint temperature</td>
      <td>235168</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_clwc" data-name="Time-mean specific cloud liquid water content" data-gribid="235246" data-levtype="pl" data-vertical="pl" data-allfreqs="monthly">
      <td>avg_clwc</td>
      <td>Time-mean specific cloud liquid water content</td>
      <td>235246</td>
      <td>pl</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_tcc" data-name="Time-mean total cloud cover" data-gribid="235288" data-levtype="sfc" data-vertical="" data-allfreqs="monthly">
      <td>avg_tcc</td>
      <td>Time-mean total cloud cover</td>
      <td>235288</td>
      <td>sfc</td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="vsw" data-name="Volumetric soil moisture" data-gribid="260199" data-levtype="sol" data-vertical="sol4" data-allfreqs="hourly">
      <td>vsw</td>
      <td>Volumetric soil moisture</td>
      <td>260199</td>
      <td>sol</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="sot" data-name="Soil temperature" data-gribid="260360" data-levtype="sol" data-vertical="sol4" data-allfreqs="hourly">
      <td>sot</td>
      <td>Soil temperature</td>
      <td>260360</td>
      <td>sol</td>
      <td><span class="tag is-info">hourly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sithick" data-name="Time-mean sea ice thickness" data-gribid="263000" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_sithick</td>
      <td>Time-mean sea ice thickness</td>
      <td>263000</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_siconc" data-name="Time-mean sea ice area fraction" data-gribid="263001" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_siconc</td>
      <td>Time-mean sea ice area fraction</td>
      <td>263001</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_siue" data-name="Time-mean eastward sea ice velocity" data-gribid="263003" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_siue</td>
      <td>Time-mean eastward sea ice velocity</td>
      <td>263003</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sivn" data-name="Time-mean northward sea ice velocity" data-gribid="263004" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_sivn</td>
      <td>Time-mean northward sea ice velocity</td>
      <td>263004</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sivol" data-name="Time-mean sea ice volume per unit area" data-gribid="263008" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_sivol</td>
      <td>Time-mean sea ice volume per unit area</td>
      <td>263008</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_snvol" data-name="Time-mean snow volume over sea ice per unit area" data-gribid="263009" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_snvol</td>
      <td>Time-mean snow volume over sea ice per unit area</td>
      <td>263009</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_sos" data-name="Time-mean sea surface practical salinity" data-gribid="263100" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_sos</td>
      <td>Time-mean sea surface practical salinity</td>
      <td>263100</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_tos" data-name="Time-mean sea surface temperature" data-gribid="263101" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_tos</td>
      <td>Time-mean sea surface temperature</td>
      <td>263101</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_hc300m" data-name="Time-mean vertically-integrated heat content in the upper 300 m" data-gribid="263121" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_hc300m</td>
      <td>Time-mean vertically-integrated heat content in the upper 300 m</td>
      <td>263121</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_hc700m" data-name="Time-mean vertically-integrated heat content in the upper 700 m" data-gribid="263122" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_hc700m</td>
      <td>Time-mean vertically-integrated heat content in the upper 700 m</td>
      <td>263122</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_hcbtm" data-name="Time-mean total column heat content" data-gribid="263123" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_hcbtm</td>
      <td>Time-mean total column heat content</td>
      <td>263123</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_zos" data-name="Time-mean sea surface height" data-gribid="263124" data-levtype="o2d" data-vertical="" data-allfreqs="daily,monthly">
      <td>avg_zos</td>
      <td>Time-mean sea surface height</td>
      <td>263124</td>
      <td>o2d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-success">daily</span></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_so" data-name="Time-mean sea water practical salinity" data-gribid="263500" data-levtype="o3d" data-vertical="full" data-allfreqs="daily,monthly">
      <td>avg_so</td>
      <td>Time-mean sea water practical salinity</td>
      <td>263500</td>
      <td>o3d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_thetao" data-name="Time-mean sea water potential temperature" data-gribid="263501" data-levtype="o3d" data-vertical="full" data-allfreqs="daily,monthly">
      <td>avg_thetao</td>
      <td>Time-mean sea water potential temperature</td>
      <td>263501</td>
      <td>o3d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
      <td><span class="tag is-warning">monthly</span></td>
    </tr><tr class="clickable-row" data-shortname="avg_von" data-name="Time-mean northward sea water velocity" data-gribid="263505" data-levtype="o3d" data-vertical="full" data-allfreqs="daily,monthly">
      <td>avg_von</td>
      <td>Time-mean northward sea water velocity</td>
      <td>263505</td>
      <td>o3d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_uoe" data-name="Time-mean eastward sea water velocity" data-gribid="263506" data-levtype="o3d" data-vertical="full" data-allfreqs="daily,monthly">
      <td>avg_uoe</td>
      <td>Time-mean eastward sea water velocity</td>
      <td>263506</td>
      <td>o3d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr><tr class="clickable-row" data-shortname="avg_wo" data-name="Time-mean upward sea water velocity" data-gribid="263507" data-levtype="o3d" data-vertical="half" data-allfreqs="daily,monthly">
      <td>avg_wo</td>
      <td>Time-mean upward sea water velocity</td>
      <td>263507</td>
      <td>o3d</td>
      <td><span class="tag is-success">daily</span> <span class="tag is-warning">monthly</span></td>
      <td></td>
      <td></td>
    </tr></div>
      </div>
    </section>
  </body>

  <div class="modal" id="var-modal">
    <div class="modal-background"></div>

    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title" id="modal-title"></p>
        <button class="delete" aria-label="close"></button>
      </header>

      <section class="modal-card-body">

        <div class="field is-grouped is-grouped-multiline">

  <div class="control">
    <div class="tags has-addons">
      <span class="tag is-dark">Shortname</span>
      <span id="modal-shortname" class="tag is-info"></span>
    </div>
  </div>

  <div class="control">
    <div class="tags has-addons">
      <span class="tag is-dark">GRIB ID</span>
      <a
        id="modal-grib-link"
        href="#"
        target="_blank"
        class="tag is-info"
      ></a>
    </div>
  </div>

  <div class="control">
    <div class="tags has-addons">
      <span class="tag is-dark">Levtype</span>
      <span id="modal-levtype" class="tag is-info"></span>
    </div>
  </div>

</div>


        <hr />

        <p class="mb-2"><strong>Polytope helper</strong></p>

<!-- Resolution -->
<div class="field is-horizontal is-align-items-center">
  <div class="field-label mr-4">
    <label class="label mb-0">Resolution</label>
  </div>
  <div class="field-body">
    <div class="field">
      <div class="control" id="resolution-options">
        <label class="radio mr-3">
          <input type="radio" name="resolution" value="standard" checked />
          Standard
        </label>
        <label class="radio">
          <input type="radio" name="resolution" value="high" />
          High
        </label>
      </div>
    </div>
  </div>
</div>

<!-- Output Frequency -->
<div class="field is-horizontal is-align-items-center">
  <div class="field-label mr-4">
    <label class="label mb-0">Frequency</label>
  </div>
  <div class="field-body">
    <div class="field">
      <div class="control" id="frequency-options">
        <label class="radio mr-3">
          <input type="radio" name="outfreq" value="hourly" checked /> Hourly
        </label>
        <label class="radio mr-3">
          <input type="radio" name="outfreq" value="daily" /> Daily
        </label>
        <label class="radio">
          <input type="radio" name="outfreq" value="monthly" /> Monthly
        </label>
      </div>
    </div>
  </div>
</div>




        <div class="code-container">
          <button class="button is-small is-light copy-btn" id="copy-code">
            Copy
          </button>
          <pre><code id="modal-code" class="language-python"></code></pre>
        </div>

        <p class="help is-success is-hidden" id="copy-hint">
          Copied to clipboard âœ“
        </p>
      </section>

      <!-- <footer class="modal-card-foot"> -->
      <!--   <button class="button is-link" id="copy-code">Copy</button> -->
      <!--   <button class="button cancel">Close</button> -->
      <!-- </footer> -->
    </div>
  </div>

  <script>
    const DATETIME_CONFIG = {
      monthly: {
        stream: "clmn",
        year: "2018",
        month: "5",
      },
      hourly: {
        stream: "clte",
        date: "20180315",
        time: "00/01/02/03/04/05/06/07/08/09/10/11/12/13/14/15/16/17/18/19/20/21/22/23",
      },
      daily: {
        stream: "clte",
        date: "20180315",
        time: "00",
      },
    };

    const SIMULATION_CONFIG = {"p2_ifs-fesom-storyline-hist": {"label": "Phase 2 - IFS-FESOM - Storylines historical", "address": "polytope.mn5.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "story-nudging", "experiment": "hist", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-fesom-storyline-cont": {"label": "Phase 2 - IFS-FESOM - Storylines control", "address": "polytope.mn5.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "story-nudging", "experiment": "cont", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-fesom-storyline-plus2k": {"label": "Phase 2 - IFS-FESOM - Storylines plus2K", "address": "polytope.mn5.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "story-nudging", "experiment": "tplus2k", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-fesom-proj": {"label": "Phase 2 - IFS-FESOM - projection", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "projections", "experiment": "SSP3-7.0", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-fesom-hist": {"label": "Phase 2 - IFS-FESOM - historical", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "hist", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-fesom-cont": {"label": "Phase 2 - IFS-FESOM - control", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "cont", "model": "ifs-fesom"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]}}, "p2_ifs-nemo-projection": {"label": "Phase 2 - IFS-NEMO - projection", "address": "polytope.mn5.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "projections", "experiment": "SSP3-7.0", "model": "ifs-nemo"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75]}}, "p2_ifs-nemo-hist": {"label": "Phase 2 - IFS-NEMO - historical", "address": "polytope.mn5.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "hist", "model": "ifs-nemo"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75]}}, "p2_ifs-nemo-cont": {"label": "Phase 2 - IFS-NEMO - control", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "cont", "model": "ifs-nemo"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "sol4": [1, 2, 3, 4], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75]}}, "p2_icon-projection": {"label": "Phase 2 - ICON - projection", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "projections", "experiment": "SSP3-7.0", "model": "icon"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73]}}, "p2_icon-hist": {"label": "Phase 2 - ICON - historical", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "hist", "model": "icon"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73]}}, "p2_icon-cont": {"label": "Phase 2 - ICON - control", "address": "polytope.lumi.apps.dte.destination-earth.eu", "request": {"class": "d1", "dataset": "climate-dt", "type": "fc", "expver": "0001", "generation": "2", "realization": "1", "activity": "baseline", "experiment": "cont", "model": "icon"}, "levels": {"pl": [1, 5, 10, 20, 30, 50, 70, 100, 150, 200, 250, 300, 400, 500, 600, 700, 850, 925, 1000], "hl": [100], "sol5": [1, 2, 3, 4, 5], "full": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72], "half": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73]}}};
  </script>

  <script>
    const select = document.getElementById("simulation-select");

    Object.entries(SIMULATION_CONFIG).forEach(([key, sim], index) => {
      const opt = document.createElement("option");
      opt.value = key;
      opt.textContent = sim.label;
      if (index === 0) opt.selected = true; // default selection
      select.appendChild(opt);
    });
  </script>

  <script>
    $(document).ready(function () {
      $("#variables").DataTable({
        pageLength: 100,
        order: [[2, "asc"]], // sort by gribid
      });
    });
  </script>

  <script>
    const modal = document.getElementById("var-modal");

    function openModal() {
      modal.classList.add("is-active");
    }

    function closeModal() {
      modal.classList.remove("is-active");
    }

    document
      .querySelectorAll(
        "#var-modal .delete, #var-modal .modal-background, #var-modal .cancel",
      )
      .forEach((el) => el.addEventListener("click", closeModal));

    function buildCodeSnippet(gribid, shortname, levtype, freqs, vertical) {
      const simKey = document.getElementById("simulation-select").value;
      const sim = SIMULATION_CONFIG[simKey];

      // disable unavailable freqencies
      const freqInputs = document.querySelectorAll('input[name="outfreq"]');

      let firstEnabled = null;
      // console.log(freqs);

      freqInputs.forEach((input) => {
        const label = input.closest("label");
        if (freqs.includes(input.value)) {
          // enable
          input.disabled = false;
          label.removeAttribute("disabled");

          if (!firstEnabled) firstEnabled = input;
        } else {
          // disable
          input.disabled = true;
          input.checked = false;
          label.setAttribute("disabled", "disabled");
        }
      });

      // Ensure one valid option is selected
      // if (firstEnabled) {
      //   firstEnabled.checked = true;
      // }
      const currentlyChecked = document.querySelector(
        'input[name="outfreq"]:checked',
      );

      if (!currentlyChecked && firstEnabled) {
        firstEnabled.checked = true;
      }

      // to set them
      const resolution = document.querySelector(
        'input[name="resolution"]:checked',
      ).value;
      const outfreq = document.querySelector(
        'input[name="outfreq"]:checked',
      ).value;

      let header = "";
      if (sim.address) {
        header = `address = "${sim.address}"\n\n`;
      }

      // basic stuff
      let requestLines = Object.entries(sim.request)
        .map(([k, v]) => `  "${k}": "${v}",`)
        .join("\n");

      // extend:
      requestLines += `\n  "param": ${gribid},  # ${shortname}`;
      requestLines += `\n  "levtype": "${levtype}",`;
      requestLines += `\n  "resolution": "${resolution}",`;

      // Add levelist for 3D variables
      if (vertical && sim.levels && sim.levels[vertical]) {
        const levelist = sim.levels[vertical].join("/");
        requestLines += `\n  "levelist": "${levelist}",`;
      }

      // Add datetime block based on selected frequency
      const datetimeBlock = DATETIME_CONFIG[outfreq];
      if (datetimeBlock) {
        const datetimeLines = Object.entries(datetimeBlock)
          .map(([k, v]) => `  "${k}": "${v}",`)
          .join("\n");

        requestLines += `\n${datetimeLines}`;
      }

      return `${header}request = {\n${requestLines}
}

data = earthkit.data.from_source("polytope", "destination-earth", request, address=address, stream=False)
ds= data.to_xarray()`;
    }

    document.addEventListener("click", function (e) {
      const row = e.target.closest(".clickable-row");
      if (!row) return;

      document
        .querySelectorAll(".clickable-row")
        .forEach((r) => r.classList.remove("active"));
      row.classList.add("active");

      const shortname = row.dataset.shortname;
      const name = row.dataset.name;
      const gribid = row.dataset.gribid;
      const levtype = row.dataset.levtype;
      const vertical = row.dataset.vertical || "";
      const freqs = row.dataset.allfreqs ? row.dataset.allfreqs.split(",") : [];

      modal.dataset.gribid = gribid;
      modal.dataset.shortname = shortname;
      modal.dataset.levtype = levtype;
      modal.dataset.vertical = vertical;
      modal.dataset.freqs = freqs;

      document.getElementById("modal-title").textContent = name;
      document.getElementById("modal-shortname").textContent = shortname;
      document.getElementById("modal-levtype").textContent = levtype;


      const gribLink = document.getElementById("modal-grib-link");
      gribLink.href = `https://codes.ecmwf.int/grib/param-db/${gribid}`;
      gribLink.textContent = gribid;

      buildCodeSnippet(gribid, shortname, levtype, freqs, vertical);
      refreshCode();

      openModal();
    });

    function refreshCode() {
      // const resolution = document.querySelector('input[name="resolution"]:checked').value;
      const gribid = modal.dataset.gribid;
      const shortname = modal.dataset.shortname;
      const levtype = modal.dataset.levtype;
      const vertical = modal.dataset.vertical;
      const freqs = modal.dataset.freqs;

      if (!gribid) return; // modal not initialized yet

      // console.log(levtype);
      document.getElementById("modal-code").textContent = buildCodeSnippet(
        gribid,
        shortname,
        levtype,
        freqs,
        vertical,
      );
    }

    document
      .querySelectorAll('input[name="resolution"], input[name="outfreq"]')
      .forEach((el) => el.addEventListener("change", refreshCode));

    document
      .querySelectorAll('input[name="outfreq"], input[name="outfreq"]')
      .forEach((el) => el.addEventListener("change", refreshCode));
  </script>

  <script>
    const copyBtn = document.getElementById("copy-code");
    const copyHint = document.getElementById("copy-hint");

    copyBtn.addEventListener("click", function () {
      const code = document.getElementById("modal-code").textContent;

      navigator.clipboard.writeText(code).then(() => {
        copyHint.classList.remove("is-hidden");
        copyBtn.classList.add("is-success");
        copyBtn.textContent = "Copied!";

        setTimeout(() => {
          copyHint.classList.add("is-hidden");
          copyBtn.classList.remove("is-success");
          copyBtn.textContent = "Copy";
        }, 2000);
      });
    });
  </script>
</html>

